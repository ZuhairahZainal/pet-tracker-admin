<ion-header>
  <ion-toolbar>
    <ion-title class="ion-text-center">Adoption Post</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-toolbar>
    <ion-segment (ionChange)="segmentChanged($event)" value="pending" scrollable>
      <ion-segment-button value="pending">
        <ion-label>Pending</ion-label>
      </ion-segment-button>
      <ion-segment-button value="approve">
        <ion-label>Approved</ion-label>
      </ion-segment-button>
      <ion-segment-button value="disapprove">
        <ion-label>Disapproved</ion-label>
      </ion-segment-button>
    </ion-segment>
  </ion-toolbar>

    <ion-grid  *ngIf="segment === 'pending'">
      <ion-row *ngFor="let detail of adoptionList | async">
        <ion-col>
          <ion-card>
            <ion-grid *ngIf="detail.adminApprove === 'Pending'" >
              <ion-row [routerLink]="['/tab/adoption-post/more-info/', detail.adoptionId]">

                <ion-col size=3>
                  <ion-avatar>
                    <img [src]="detail.petImage">
                  </ion-avatar>
                </ion-col>

                <ion-col size=8>
                  <ion-row>
                    <ion-col>
                      <ion-label>Pet Name : {{ detail.petName }}</ion-label>
                    </ion-col>
                  </ion-row>

                  <ion-row>
                    <ion-col>
                      <ion-label>Posted on : {{ detail.createdAt }}</ion-label>
                    </ion-col>
                  </ion-row>

                  <ion-row>
                    <ion-col>
                      <ion-button fill="clear" color="tertiary" class="ion-no-padding">More Info</ion-button>
                    </ion-col>
                  </ion-row>
                </ion-col>
              </ion-row>

              <ion-row>
                <ion-col size="6">
                  <ion-button expand="block" fill="outline" color="success" (click)="approveBtn(detail?.adoptionId, detail?.userId)">Approve</ion-button>
                </ion-col>
                <ion-col size="6">
                  <ion-button  expand="block" fill="outline" color="danger" (click)="disapproveBtn(detail?.adoptionId, detail?.userId)">Disapprove</ion-button>
                </ion-col>
              </ion-row>
            </ion-grid>
          </ion-card>
        </ion-col>
      </ion-row>
    </ion-grid>


  <ion-grid *ngIf="segment === 'approve'">
    <ion-row *ngFor="let detail of adoptionList | async">
      <ion-col>
        <ion-card>
          <ion-grid *ngIf="detail.adminApprove === 'Approved'" >
            <ion-row>
              <ion-col size=3>
                <ion-avatar>
                  <img [src]="detail.petImage">
                </ion-avatar>
              </ion-col>

              <ion-col size=8>
                <ion-row>
                  <ion-col>
                    <ion-label color="success">Approved</ion-label>
                  </ion-col>
                </ion-row>

                <ion-row>
                  <ion-col>
                    <ion-label>Pet Name : {{ detail.petName }}</ion-label>
                  </ion-col>
                </ion-row>

                <ion-row>
                  <ion-col>
                    <ion-label>Posted on : {{ detail.createdAt }}</ion-label>
                  </ion-col>
                </ion-row>

                <ion-row>
                  <ion-col>
                    <ion-button fill="clear" color="tertiary" class="ion-no-padding" [routerLink]="['/tab/adoption-post/more-info/', detail.adoptionId]">More Info</ion-button>
                  </ion-col>
                </ion-row>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>

  <ion-grid *ngIf="segment === 'disapprove'">
    <ion-row *ngFor="let detail of adoptionList | async">
      <ion-col>
        <ion-card>
          <ion-grid *ngIf="detail.adminApprove === 'Disapproved'" >
            <ion-row>

              <ion-col size=3>
                <ion-avatar>
                  <img [src]="detail.petImage">
                </ion-avatar>
              </ion-col>

              <ion-col size=8>
                <ion-row>
                  <ion-col>
                    <ion-label color="danger">Disapproved</ion-label>
                  </ion-col>
                </ion-row>

                <ion-row>
                  <ion-col>
                    <ion-label>Pet Name : {{ detail.petName }}</ion-label>
                  </ion-col>
                </ion-row>

                <ion-row>
                  <ion-col>
                    <ion-label>Posted on : {{ detail.createdAt }}</ion-label>
                  </ion-col>
                </ion-row>

                <ion-row>
                  <ion-col>
                    <ion-button fill="clear" color="tertiary" class="ion-no-padding" [routerLink]="['/tab/adoption-post/more-info/', detail.adoptionId]">More Info</ion-button>
                  </ion-col>
                </ion-row>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>

</ion-content>
